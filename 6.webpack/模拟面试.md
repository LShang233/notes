# webpack构建原理

首先是初始化参数。初始化参数之后会把这些参数封装在Compiler对象里面。这个对象也包含了一些插件的钩子。然后就可以调用run。进行打包了。首先会根据你这个入口。进行递归。一次呃，进行地柜。然后一次找到你的依赖。嗯嗯，没进入一个文件会使用low的。呃，进行处理。最后将这些文件按入口进行分类。呃，打包成一个一个的trunk。最后再讲这些创客合并成一个bundle文件进行输出。在打包过程当中遇到呃，打包过程当中会执行这一些插件。

# 什么是loader？

就是配置相。因为这因为外派，只能识别js的文件。所以当遇见文件的时候，需要将这些文件进行处理。和漏的，还有另一个功能就是因为他本质上是对这个文件字符串进行处理嘛。所以他还能进行一些比如说压缩代码。呃，删除这些操作。

# 介绍几个常见的loader

css，style。Css low的是把css文件中的一些引入。进行打包。包括一些嵌套。然后呢四大主要就是把这些css文件注入到html里面。

还有一个就是八宝了。就是讲。呃，呃。Js代码进行转码。这样的话比较能匹配。版本比较低的浏览器。

# 插件的原理

在包装的那个拍了对象里面呢。就包含了。嗯，有一个type的这个库，这个库里面呢就含有这些。呃，插件的钩子。

插件主要应用的就是发布订阅这个模块。在在康拍了对象里面。呃，也就是初始化之后就已经进行了这个发布。，当用户需要使用的时候就可以进行订阅。

# 热更新

在用户开发的时候，呃，如果只是对iPad进行了一些小的修改，那么就不需要更新整个外派吗？只需要更新修改的那一部分。就是热狗，恶心。

## 原理

在对象里面有一个我去。他主要就是可以监听，额外派一些。修改的值。当呃，当修改之后，会把这个编译后的文件放入到这个内存中。不是放入到磁盘，所以这个心会比较快。

更新完成后，会有一个荡的钩子。这个时候他会进行广播。这个是呃。在盗墓里面进行web socket的上的操作。这个更新发送到客户端，客户端嗯后端接收后。进行检查更新。

是在入口函数的时候定义的。

# loader和plugins的区别

他的原理就是呃，对不同类型的文件。转化为字符串嘛，然后对字符串进行处理，所以他操作的空间也比较有限

而插件主要是一些神秘外派生命周期的钩子。所以他处理的东西也也就更多。哦，他可以处理一些文件压缩的。功能这些是楼的，没有办法处理的。

# tree-sharking原理

顾名思义，就是将一些无用的代码去掉。要使用这个功能，主要是依赖module里面的一个。静态模块结构It's是呃。在文件写完之后就可以确定。你什么时候引入而不需要再运行的时候。

它的原理主要是额，根据。Import和export进行标记。其中一paul，分为未使用和使用最好，然后使用一些工具，根据这些标记，进行代码的压缩和删除。

# commonJS和ES6Module的区别

主要有3点区别。

首先前者需要在运行的时候才能确定。依赖的文件有哪些，而后者是你靠的是静态模块结构，这也就意味着他可以使用吹shaking来去掉一些无用的代码。

第二前者是采用复制的方式进行传值的，也就是说静态姐呃，静态数据类型采用的是复制呃。像引用类型。是进行一次浅复制，也就是说在外面是可以更改修改到里面的代码的。而后者采用的是动态只读的方式只读意味着他是不能修改里面的，只能根据呃他暴露的接口来更改内容。用户是无法直接修改的。动态是指，嗯，你需要这个模块，只有到你真正呃，执行的时候才会进行加载。而且这个加载是异步的。

第三是，后者是默认开启严格模式的。也就是说他的地址是？而前者并没有，也就是说他的第四指向window。